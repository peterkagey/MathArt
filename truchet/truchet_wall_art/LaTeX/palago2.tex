\documentclass[tikz]{standalone}
\usepackage{tikz}
\pgfmathsetmacro{\n}{30}

\begin{document}
  \begin{tikzpicture}[scale=1]
    \foreach \b [
      evaluate={\b as \amin using {-floor(\b/2)}},
      evaluate={\b as \amax using {\n-floor(\b/2)}},
    ] in {0,...,\n} {
    \foreach \a [
        evaluate={\a as \x using {\a*sqrt(3)+\b*sqrt(3)/2}},
        evaluate={\b as \y using {\b*1.5}},
        evaluate={\b as \r using {120*random(0,2)}}
    ] in {\amin,...,\amax} {
      \fill[blue!50, rotate around={\r:({\x + sqrt(3)/2},{\y + 0.5})}]
        ({\x+0},0.5+\y)--
        ({\x+0},1+\y)--
        ({\x+sqrt(3)/4},1.25+\y) arc (210:330:0.5)--
        ({\x+sqrt(3)},1+\y)--
        ({\x+sqrt(3)},0.5+\y)--
        cycle

        ({\x+sqrt(3)/4},-0.25+\y) arc (150:30:0.5)--
        ({\x+sqrt(3)/2},-0.5+\y)--
        cycle;
      \draw[ultra thick, rotate around={\r:({\x + sqrt(3)/2},{\y + 0.5})}]
        ({\x+0},0.5+\y)--({\x+sqrt(3)},0.5+\y)
        ({\x+sqrt(3)/4},-0.25+\y) arc (150:30:0.5)
        ({\x+sqrt(3)/4},1.25+\y) arc (210:330:0.5);
  }}
  \end{tikzpicture}
\end{document}
