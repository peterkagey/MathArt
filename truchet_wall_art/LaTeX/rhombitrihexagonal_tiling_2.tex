\documentclass[tikz]{standalone}
\usepackage{tikz}
\pgfmathsetmacro{\n}{10}
\begin{document}
  \begin{tikzpicture}
    \foreach \b [
      evaluate={\amin using int(-\b/2)},
      evaluate={\amax using int(\n-\b/2)},
      evaluate={\c using 100*\b/\n}
    ] in {1,...,\n} {
      \foreach \a in {\amin,...,\amax} {
        \foreach \t [
          evaluate={\x using \a+\b/2},
          evaluate={\y using \b*sqrt(3)/2},
          evaluate={\r using random(0,2)},
        ] in {0,...,2} {
          \foreach \f in {-1,1} {
            % \fill (\x,\y) circle (0.05);
            % \draw (\x+1/2,{\y-1/(2*sqrt(3))})--(\x+1/2,{\y+1/(2*sqrt(3))})--(\x,{\y+1/sqrt(3)}) -- (\x-1/2,{\y+1/(2*sqrt(3))}) -- (\x-1/2,{\y-1/(2*sqrt(3))});
            % \draw[rotate around={\t*120:(\x,\y)}] (\x,\y) -- (\x+2/3,\y) -- (\x+1/2,{\y+\f/(2*sqrt(3))}) -- (\x+1/6,{\y+\f/(2*sqrt(3))}) -- cycle;
            \ifnum \r = 0 {
              \draw[red!50!black, line cap=round, line width = 1, rotate around={\t*120:(\x,\y)}]
                (\x+1/3,\y) -- (\x+1/12,{\y+\f/(4*sqrt(3))})
                (\x+1/3,{\y+\f/(2*sqrt(3))}) -- (\x+7/12,{\y+\f/(4*sqrt(3))})
              ;
            } \else {
            \ifnum \r = 1 {
              \draw[red!50!black, line cap=round, line width = 1, rotate around={\t*120:(\x,\y)}]
                (\x+1/3,\y) -- (\x+7/12,{\y+\f/(4*sqrt(3))})
                (\x+1/3,{\y+\f/(2*sqrt(3))}) -- (\x+1/12,{\y+\f/(4*sqrt(3))})
              ;
            } \else {
              \draw[red!50!black, line cap=round, line width = 1, rotate around={\t*120:(\x,\y)}]
                (\x+1/3,\y) -- (\x+1/3,{\y+\f/(2*sqrt(3))})
                (\x+1/12,{\y+\f/(4*sqrt(3))}) -- (\x+7/12,{\y+\f/(4*sqrt(3))})
              ;
            } \fi
            } \fi
          }
        }
      }
    }
  \end{tikzpicture}
\end{document}
