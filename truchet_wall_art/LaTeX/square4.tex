\documentclass[tikz]{standalone}
\usepackage{tikz}
\pgfmathsetmacro{\n}{45}

\begin{document}
  \begin{tikzpicture}
    \foreach \x in {0,3,...,\n} {
      \foreach \y [
        evaluate={\s using random(0,23)}
      ] in {0,3,...,\n} {
        \draw (\x,\y) rectangle (\x+3, \y+3);
        \ifnum \s < 4 {
          % Type V
          \draw[line width=3, red, rotate around={90*\s:(\x+3/2,\y+3/2)}]
            (\x+1,\y) arc (180:90:2)
            (\x+2,\y) arc (180:90:1)
            (\x,\y+1) arc (270:360:2)
            (\x,\y+2) arc (270:360:1)
          ;
        } \else {
          \ifnum \s < 8 {
            % Type II
            \draw[line width=3, red, rotate around={90*\s:(\x+3/2,\y+3/2)}]
              (\x+1,\y) arc (180:0:1/2)
              (\x+1,\y+3) arc (180:360:1/2)
              (\x,\y+1) -- (\x+3,\y+1)
              (\x,\y+2) -- (\x+3,\y+2)
            ;
          } \else {
            \ifnum \s < 12 {
              % Type IV
              \draw[line width=3, red, rotate around={90*\s:(\x+3/2,\y+3/2)}]
                (\x+1,\y) arc (180:90:2)
                (\x+2,\y) arc (180:90:1)
                (\x,\y+1) arc (-90:90:1/2)
                (\x+1,\y+3) arc (180:360:1/2)
              ;
            } \else {
              \ifnum \s < 16 {
                % Type VI
                \draw[line width=3, red, rotate around={90*\s:(\x+3/2,\y+3/2)}]
                  (\x+2,\y) arc (180:90:1) % SE corner
                  (\x+1,\y) arc (0:90:1)   % SW corner
                  (\x,\y+2) arc (270:360:1) % NW corner
                  (\x+3,\y+2) arc (270:180:1) % NE corner
                ;
              } \else {
                \ifnum \s < 20 {
                  % Type III
                  \draw[line width=3, red, rotate around={90*\s:(\x+3/2,\y+3/2)}]
                    (\x+1,\y) arc (180:0:1/2)
                    (\x,\y+1) -- (\x+3,\y+1)
                    (\x,\y+2) arc (270:360:1)
                    (\x+3,\y+2) arc (270:180:1)
                  ;
                } \else {
                  % Type I
                  \draw[line width=3, red, rotate around={90*\s:(\x+3/2,\y+3/2)}]
                    (\x,\y+1) arc (-90:90:1/2)
                    (\x+3,\y+1) arc (270:90:1/2)
                    (\x+1,\y) arc (180:0:1/2)
                    (\x+1,\y+3) arc (180:360:1/2)
                  ;
                } \fi
              } \fi
            } \fi
          } \fi
        } \fi
      }
    }
    %     % \draw (\x,\y) rectangle (\x+2,\y+2);
    %     \ifnum \s<2 {
    %       % Type I
    %       \draw[line width=4, red, rotate around={90*\s:(\x+1,\y+1)}]
    %         (\x+1/2,\y) arc (180:90:3/2)
    %         (\x+3/2,\y) arc (180:90:1/2)
    %         (\x,\y+1/2) arc (270:360:3/2)
    %         (\x,\y+3/2) arc (270:360:1/2)
    %       ;
    %     } \else {
    %       \ifnum \s < 4 {
    %         % Type II
    %         \draw[line width=4, red, rotate around={90*\s:(\x+1,\y+1)}]
    %           (\x+1/2,\y) arc (180:0:1/2)
    %           (\x+1/2,\y+2) arc (180:360:1/2)
    %           (\x,\y+1/2) -- (\x+2,\y+1/2)
    %           (\x,\y+3/2) -- (\x+2,\y+3/2)
    %         ;
    %       } \else {
    %         % Type III
    %         \draw[line width=4, red, rotate around={90*\s:(\x+1,\y+1)}]
    %           (\x+1/2,\y) arc (180:90:3/2)
    %           (\x+3/2,\y) arc (180:90:1/2)
    %           (\x,\y+1/2) arc (-90:90:1/2)
    %           (\x+1/2,\y+2) arc (180:360:1/2)
    %         ;
    %       } \fi
    %     } \fi
    %     % \draw[fill=blue, fill opacity=0.1] (\x,\y+2) rectangle (\x+1,\y+3);
    %     \draw[line width=4, red, rotate around={90*\t:(\x+1/2,\y+5/2)}]
    %       (\x+1/2,\y+2) arc (180:90:1/2)
    %       (\x,\y+5/2) arc (270:360:1/2)
    %     ;
    %   }
    % }
  \end{tikzpicture}
\end{document}
